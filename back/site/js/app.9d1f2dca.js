(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1bebc49e":"72fd10aa","chunk-2d22d746":"d6b32d9b","chunk-7b5cec67":"6dc23d67"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1bebc49e":1,"chunk-7b5cec67":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-1bebc49e":"5b56aacc","chunk-2d22d746":"31d6cfe0","chunk-7b5cec67":"07a814c3"}[e]+".css",a=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],p.parentNode.removeChild(p),n(i)},p.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4878:function(e,t,n){"use strict";var r=n("bc3a"),o=n.n(r),a=o.a.create({timeout:3e3,headers:{"Content-Type":"application/json"}});t["a"]=a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("DrawerBar",{attrs:{drawer:e.drawer,title:e.name}}),n("AppBar",{attrs:{title:e.name,drawer:e.drawer},on:{"switch-drawer":e.switchDrawer}}),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("transition",{attrs:{name:"slide",mode:"out-in"}},[n("router-view")],1)],1)],1),n("v-footer",{attrs:{app:""}})],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){return e.switchDrawer()}}}),n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-magnify")])],1),n("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",o,!1),r),[n("v-icon",[e._v("mdi-account")])],1)]}}])},[n("v-list",[e.isLoggedIn?e._e():n("v-list-item",[n("v-list-item-title",{on:{click:function(t){e.showLogin=!0}}},[e._v("Iniciar sesi칩n")])],1),e.isLoggedIn?n("v-list-item",{on:{click:function(t){return e.logOut()}}},[n("v-list-item-title",[e._v("Cerrar sesi칩n")])],1):e._e()],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showLogin,callback:function(t){e.showLogin=t},expression:"showLogin"}},[n("Login",{on:{logged:function(t){e.showLogin=!1}}})],1)],1)},c=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Inicio de sesi칩n")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Email",rules:e.rulesEmail,"prepend-icon":"mdi-at"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Contrase침a",rules:e.rulesPassword,type:e.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-alert",{attrs:{border:"left",color:"red lighten-2",dark:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[e._v(" "+e._s(e.error)+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{id:"boton",color:"primary"},on:{click:function(t){return e.loginFunction()}}},[e._v("Login")])],1)],1)},u=[],l=n("4878"),d="/api/authenticate",p=function(e,t){var n={username:e,password:t};return l["a"].post(d,n)},m={data:function(){return{email:"",password:"",reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,rulesEmail:[function(e){return!!e||"Requerido."},function(e){return e&&e.length<=50}],rulesPassword:[function(e){return!!e||"Requerido."},function(e){return e&&e.length<=50}],showError:!1,error:""}},methods:{loginFunction:function(){var e=this;p(this.email,this.password).then((function(t){var n=t.data;sessionStorage.setItem("username",n.username),sessionStorage.setItem("role",n.role),e.$emit("logged",void 0),window.location.reload()})).catch((function(t){e.showError=!0,e.error=t.response.data.message,setInterval((function(){e.showError=!1}),3e3)}))}}},f=m,v=n("2877"),h=n("6544"),b=n.n(h),g=n("0798"),w=n("8336"),_=n("b0af"),y=n("99d9"),k=n("2fa4"),V=n("8654"),x=Object(v["a"])(f,s,u,!1,null,"2864b9ca",null),L=x.exports;b()(x,{VAlert:g["a"],VBtn:w["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VSpacer:k["a"],VTextField:V["a"]});var I={components:{Login:L},props:["title","drawer"],data:function(){return{showLogin:!1}},methods:{switchDrawer:function(){this.$emit("switch-drawer",!this.drawer)},logOut:function(){sessionStorage.removeItem("username"),sessionStorage.removeItem("role"),window.location.reload()}},computed:{isLoggedIn:function(){var e=sessionStorage.getItem("username");return void 0!=e}}},E=I,S=n("40dc"),C=n("5bc1"),P=n("169a"),T=n("132d"),O=n("8860"),j=n("da13"),A=n("5d23"),$=n("e449"),B=n("2a7f"),D=Object(v["a"])(E,i,c,!1,null,null,null),N=D.exports;b()(D,{VAppBar:S["a"],VAppBarNavIcon:C["a"],VBtn:w["a"],VDialog:P["a"],VIcon:T["a"],VList:O["a"],VListItem:j["a"],VListItemTitle:A["c"],VMenu:$["a"],VSpacer:k["a"],VToolbarTitle:B["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h6"},[e._v(" "+e._s(e.title)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.username)+" ")])],1)],1),n("v-divider"),n("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,(function(t){return n("div",{key:t.nombre},[t.ver?n("v-list-item",{attrs:{link:"",to:t.ruta}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.imagen))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.nombre))])],1)],1):e._e()],1)})),0)],1)},F=[],q={props:["title","drawer"],data:function(){return{username:"",items:[{nombre:"Inicio",imagen:"mdi-home",ruta:"/",ver:!0},{nombre:"Productos",imagen:"mdi-apps-box",ruta:"/products",ver:this.hasRole("admin")},{nombre:"Acerca de",imagen:"mdi-help-box",ruta:"/about",ver:!0}]}},mounted:function(){this.username=sessionStorage.getItem("username")},methods:{hasRole:function(e){return sessionStorage.getItem("role")==e}}},R=q,H=n("ce7e"),U=n("34c3"),z=n("f774"),J=Object(v["a"])(R,M,F,!1,null,null,null),Z=J.exports;b()(J,{VDivider:H["a"],VIcon:T["a"],VList:O["a"],VListItem:j["a"],VListItemContent:A["a"],VListItemIcon:U["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VNavigationDrawer:z["a"]});var K={name:"App",components:{AppBar:N,DrawerBar:Z},data:function(){return{name:"Cesar's Store",drawer:null}},methods:{switchDrawer:function(e){this.drawer=e}}},W=K,G=(n("8311"),n("7496")),Q=n("a523"),X=n("553a"),Y=n("f6c4"),ee=Object(v["a"])(W,o,a,!1,null,"54350898",null),te=ee.exports;b()(ee,{VApp:G["a"],VContainer:Q["a"],VFooter:X["a"],VMain:Y["a"]});n("d3b7"),n("3ca3"),n("ddb0");var ne=n("8c4f"),re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v("Welcome to my store")]),n("v-text-field",{attrs:{color:"success",loading:e.loadingState,label:"Search for a product","append-icon":"mdi-magnify"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),n("v-list",{attrs:{"three-line":""}},[e._l(e.productCodes,(function(t){return[n("product-info",{key:t,attrs:{code:t},on:{"product-selected":e.showProduct}})]}))],2)],1)},oe=[],ae=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!=e.product?n("v-list-item",{attrs:{link:""},on:{click:function(t){return e.onClick()}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:void 0==e.product.imageUrl?"https://isocarp.org/app/uploads/2014/05/noimage.jpg":e.product.imageUrl}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(e.product.name)}}),n("v-list-item-subtitle",[n("b",[e._v("Price:")]),e._v(" $ "+e._s(e.product.price))])],1)],1):e._e()}),ie=[],ce=n("6946"),se={props:["code"],data:function(){return{height:200,width:200,product:void 0}},created:function(){var e=this;Object(ce["c"])(this.code).then((function(t){e.product=t.data})).catch((function(){console.error("Error al consultar los datos del producto '".concat(e.code,"'"))}))},methods:{onClick:function(){this.$emit("product-selected",this.product.code)}}},ue=se,le=n("adda"),de=n("8270"),pe=Object(v["a"])(ue,ae,ie,!1,null,"8f2f8e8c",null),me=pe.exports;b()(pe,{VImg:le["a"],VListItem:j["a"],VListItemAvatar:de["a"],VListItemContent:A["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"]});var fe={components:{ProductInfo:me},data:function(){return{loadingState:!1,searchText:"",productCodes:[]}},methods:{search:function(){var e=this;this.loadingState=!0,Object(ce["b"])().then((function(t){var n=t.data;e.productCodes=n.map((function(e){return e.code})),e.loadingState=!1})).catch((function(){e.loadingState=!1,console.error("Error al consultar los productos")}))},showProduct:function(e){this.$router.push("/products/"+e)}}},ve=fe,he=Object(v["a"])(ve,re,oe,!1,null,null,null),be=he.exports;b()(he,{VContainer:Q["a"],VList:O["a"],VTextField:V["a"]}),r["a"].use(ne["a"]);var ge=[{path:"/",name:"Home",component:be},{path:"/products",name:"Product List",component:function(){return n.e("chunk-1bebc49e").then(n.bind(null,"c24e"))}},{path:"/products/new",name:"New Product",component:function(){return n.e("chunk-7b5cec67").then(n.bind(null,"2de2"))}},{path:"/products/:code",name:"Edit Product",component:function(){return n.e("chunk-7b5cec67").then(n.bind(null,"2de2"))}},{path:"/about",name:"About",component:function(){return n.e("chunk-2d22d746").then(n.bind(null,"f820"))}}],we=new ne["a"]({mode:"history",base:"/",routes:ge}),_e=we,ye=n("f309");r["a"].use(ye["a"]);var ke=new ye["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:_e,vuetify:ke,render:function(e){return e(te)}}).$mount("#app")},"5d4e":function(e,t,n){},6946:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("4878"),o="/api/products",a=function(){return r["a"].get(o)},i=function(e){return r["a"].get(o+"/"+e)},c=function(e){return r["a"].post(o,e)},s=function(e){return r["a"].post(o,e,{headers:{"Content-Type":"multipart/form-data"}})},u=function(e,t){return r["a"].put(o+"/"+e,t)},l=function(e){return r["a"].delete(o+"/"+e)}},8311:function(e,t,n){"use strict";n("5d4e")}});
//# sourceMappingURL=app.9d1f2dca.js.map