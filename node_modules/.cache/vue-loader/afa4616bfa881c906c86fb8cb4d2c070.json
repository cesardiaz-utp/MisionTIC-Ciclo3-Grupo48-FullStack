{"remainingRequest":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/src/components/Login.vue","mtime":1633579689780},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/node_modules/cache-loader/dist/cjs.js","mtime":1632359997990},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/node_modules/babel-loader/lib/index.js","mtime":1632359998900},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/node_modules/cache-loader/dist/cjs.js","mtime":1632359997990},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/node_modules/vue-loader/lib/index.js","mtime":1632359999180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHZhbGlkYXRlVXNlciB9IGZyb20gIi4uL3NlcnZpY2VzL0xvZ2luLnNlcnZpY2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcmVnOiAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31dKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsMjR9KSkkLywKICAgICAgcnVsZXNFbWFpbDogWwogICAgICAgICh2YWx1ZSkgPT4gISF2YWx1ZSB8fCAiUmVxdWVyaWRvLiIsCiAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPD0gNTAsCiAgICAgIF0sCiAgICAgIHJ1bGVzUGFzc3dvcmQ6IFsKICAgICAgICAodmFsdWUpID0+ICEhdmFsdWUgfHwgIlJlcXVlcmlkby4iLAogICAgICAgICh2YWx1ZSkgPT4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoIDw9IDUwLAogICAgICBdLAogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvcjogIiIsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5GdW5jdGlvbigpIHsKICAgICAgdmFsaWRhdGVVc2VyKHRoaXMuZW1haWwsIHRoaXMucGFzc3dvcmQpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgdXNlci51c2VybmFtZSk7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgdXNlci5yb2xlKTsKICAgICAgICAgIHRoaXMuJGVtaXQoImxvZ2dlZCIsIHVuZGVmaW5lZCk7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5lcnJvciA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yID0gZmFsc2U7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>Inicio de sesión</v-card-title>\n    <v-card-text>\n      <v-text-field\n        label=\"Email\"\n        :rules=\"rulesEmail\"\n        prepend-icon=\"mdi-at\"\n        v-model=\"email\"\n      ></v-text-field>\n\n      <v-text-field\n        label=\"Contraseña\"\n        :rules=\"rulesPassword\"\n        :type=\"showPassword ? 'text' : 'password'\"\n        prepend-icon=\"mdi-lock\"\n        :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n        v-model=\"password\"\n        @click:append=\"showPassword = !showPassword\"\n      ></v-text-field>\n\n      <v-alert border=\"left\" color=\"red lighten-2\" dark v-model=\"showError\">\n        {{ error }}\n      </v-alert>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn id=\"boton\" color=\"primary\" v-on:click=\"loginFunction()\"\n        >Login</v-btn\n      >\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { validateUser } from \"../services/Login.service\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      reg: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\n      rulesEmail: [\n        (value) => !!value || \"Requerido.\",\n        (value) => value && value.length <= 50,\n      ],\n      rulesPassword: [\n        (value) => !!value || \"Requerido.\",\n        (value) => value && value.length <= 50,\n      ],\n      showError: false,\n      error: \"\",\n    };\n  },\n  methods: {\n    loginFunction() {\n      validateUser(this.email, this.password)\n        .then((response) => {\n          const user = response.data;\n          sessionStorage.setItem(\"username\", user.username);\n          sessionStorage.setItem(\"role\", user.role);\n          this.$emit(\"logged\", undefined);\n          window.location.reload();\n        })\n        .catch((err) => {\n          this.showError = true;\n          this.error = err.response.data.message;\n          setInterval(() => {\n            this.showError = false;\n          }, 3000);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}