{"remainingRequest":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/thread-loader/dist/cjs.js!/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/babel-loader/lib/index.js!/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/src/components/Login.vue","mtime":1633579689780},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/cache-loader/dist/cjs.js","mtime":1632359997990},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/thread-loader/dist/cjs.js","mtime":1632359997990},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/babel-loader/lib/index.js","mtime":1632359998900},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/cache-loader/dist/cjs.js","mtime":1632359997990},{"path":"/home/cdiaz/MisionTIC/ciclo3/fullstack-g48/front/node_modules/vue-loader/lib/index.js","mtime":1632359999180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdmFsaWRhdGVVc2VyIH0gZnJvbSAiLi4vc2VydmljZXMvTG9naW4uc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHJlZzogL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLDI0fSkpJC8sCiAgICAgIHJ1bGVzRW1haWw6IFtmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gISF2YWx1ZSB8fCAiUmVxdWVyaWRvLiI7CiAgICAgIH0sIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPD0gNTA7CiAgICAgIH1dLAogICAgICBydWxlc1Bhc3N3b3JkOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlJlcXVlcmlkby4iOwogICAgICB9LCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoIDw9IDUwOwogICAgICB9XSwKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3I6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5GdW5jdGlvbjogZnVuY3Rpb24gbG9naW5GdW5jdGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhbGlkYXRlVXNlcih0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciB1c2VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsIHVzZXIudXNlcm5hbWUpOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInJvbGUiLCB1c2VyLnJvbGUpOwoKICAgICAgICBfdGhpcy4kZW1pdCgibG9nZ2VkIiwgdW5kZWZpbmVkKTsKCiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICBfdGhpcy5lcnJvciA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuc2hvd0Vycm9yID0gZmFsc2U7CiAgICAgICAgfSwgMzAwMCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,YAAA,QAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,wJAHA;AAIA,MAAA,UAAA,EAAA,CACA,UAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,YAAA;AAAA,OADA,EAEA,UAAA,KAAA;AAAA,eAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,EAAA;AAAA,OAFA,CAJA;AAQA,MAAA,aAAA,EAAA,CACA,UAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,YAAA;AAAA,OADA,EAEA,UAAA,KAAA;AAAA,eAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,EAAA;AAAA,OAFA,CARA;AAYA,MAAA,SAAA,EAAA,KAZA;AAaA,MAAA,KAAA,EAAA;AAbA,KAAA;AAeA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,QAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,SAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,WAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA,OAdA;AAeA;AAjBA;AAlBA,CAAA","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>Inicio de sesión</v-card-title>\n    <v-card-text>\n      <v-text-field\n        label=\"Email\"\n        :rules=\"rulesEmail\"\n        prepend-icon=\"mdi-at\"\n        v-model=\"email\"\n      ></v-text-field>\n\n      <v-text-field\n        label=\"Contraseña\"\n        :rules=\"rulesPassword\"\n        :type=\"showPassword ? 'text' : 'password'\"\n        prepend-icon=\"mdi-lock\"\n        :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n        v-model=\"password\"\n        @click:append=\"showPassword = !showPassword\"\n      ></v-text-field>\n\n      <v-alert border=\"left\" color=\"red lighten-2\" dark v-model=\"showError\">\n        {{ error }}\n      </v-alert>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn id=\"boton\" color=\"primary\" v-on:click=\"loginFunction()\"\n        >Login</v-btn\n      >\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { validateUser } from \"../services/Login.service\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      reg: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\n      rulesEmail: [\n        (value) => !!value || \"Requerido.\",\n        (value) => value && value.length <= 50,\n      ],\n      rulesPassword: [\n        (value) => !!value || \"Requerido.\",\n        (value) => value && value.length <= 50,\n      ],\n      showError: false,\n      error: \"\",\n    };\n  },\n  methods: {\n    loginFunction() {\n      validateUser(this.email, this.password)\n        .then((response) => {\n          const user = response.data;\n          sessionStorage.setItem(\"username\", user.username);\n          sessionStorage.setItem(\"role\", user.role);\n          this.$emit(\"logged\", undefined);\n          window.location.reload();\n        })\n        .catch((err) => {\n          this.showError = true;\n          this.error = err.response.data.message;\n          setInterval(() => {\n            this.showError = false;\n          }, 3000);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components"}]}